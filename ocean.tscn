[gd_scene load_steps=11 format=3 uid="uid://urtocxps537d"]

[ext_resource type="PackedScene" uid="uid://cnemvuq4712kt" path="res://submarine.tscn" id="1_5pwii"]
[ext_resource type="Script" path="res://ocean.gd" id="1_t8jae"]
[ext_resource type="Texture2D" uid="uid://bqmltib1gqkeq" path="res://art/Levels/1.png" id="3_3udq1"]
[ext_resource type="Texture2D" uid="uid://c0wx3ph10b5ky" path="res://art/krita-submarine.png" id="4_ctxmj"]
[ext_resource type="Script" path="res://sub_viewport.gd" id="4_vltdk"]
[ext_resource type="Script" path="res://fish_spawn_area_1.gd" id="6_rp0rw"]
[ext_resource type="Script" path="res://eel_spawn_area_1.gd" id="7_1hbr4"]

[sub_resource type="CircleShape2D" id="CircleShape2D_hpbr3"]
radius = 3080.25

[sub_resource type="Curve2D" id="Curve2D_uw5vp"]
_data = {
"points": PackedVector2Array(0, -62.8579, 0, 62.8579, 5001, 2904, 251.432, -516.333, -251.432, 516.333, 4436, 3304, 0, 0, 0, 0, 3834, 3807, 170.614, 242.452, -170.614, -242.452, 3403, 3645, -116.736, 125.716, 116.736, -125.716, 3187, 2810, 139.185, -175.104, -139.185, 175.104, 3196, 2208, 0, 0, 0, 0, 2613, 2334)
}
point_count = 7

[sub_resource type="CircleShape2D" id="CircleShape2D_1ch1h"]
radius = 3681.07

[node name="ocean" type="Node2D"]
script = ExtResource("1_t8jae")

[node name="background" type="TextureRect" parent="."]
offset_right = 1920.0
offset_bottom = 1080.0
scale = Vector2(10, 10)
texture = ExtResource("3_3udq1")

[node name="submarine" parent="." instance=ExtResource("1_5pwii")]
position = Vector2(957, 537)
collision_layer = 9
collision_mask = 9

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="SubViewportContainer" type="SubViewportContainer" parent="CanvasLayer"]
offset_left = 1642.0
offset_top = 15.0
offset_right = 1892.0
offset_bottom = 265.0

[node name="SubViewport" type="SubViewport" parent="CanvasLayer/SubViewportContainer"]
handle_input_locally = false
size = Vector2i(250, 250)
render_target_update_mode = 4
script = ExtResource("4_vltdk")

[node name="Sprite2D" type="Sprite2D" parent="CanvasLayer/SubViewportContainer/SubViewport"]
scale = Vector2(10, 10)
texture = ExtResource("3_3udq1")
centered = false

[node name="Camera2D" type="Camera2D" parent="CanvasLayer/SubViewportContainer/SubViewport"]
zoom = Vector2(0.05, 0.05)

[node name="Sprite2D" type="Sprite2D" parent="CanvasLayer/SubViewportContainer"]
position = Vector2(125, 125)
scale = Vector2(0.1, 0.1)
texture = ExtResource("4_ctxmj")

[node name="oxygen_bar" type="ProgressBar" parent="CanvasLayer"]
offset_left = 1065.0
offset_top = 12.0
offset_right = 1641.0
offset_bottom = 58.0
value = 100.0
allow_greater = true
fill_mode = 1

[node name="fish_spawn_area_1" type="Area2D" parent="."]
collision_layer = 9
collision_mask = 9
script = ExtResource("6_rp0rw")

[node name="CollisionShape2D" type="CollisionShape2D" parent="fish_spawn_area_1"]
position = Vector2(4330, 3077)
shape = SubResource("CircleShape2D_hpbr3")
debug_color = Color(0.998763, 0, 0.133291, 0.42)

[node name="Path2D_1" type="Path2D" parent="fish_spawn_area_1"]
position = Vector2(-2605.47, -3693.89)
scale = Vector2(2.00209, 2.70989)
curve = SubResource("Curve2D_uw5vp")

[node name="eel_spawn_area_1" type="Area2D" parent="."]
script = ExtResource("7_1hbr4")

[node name="CollisionShape2D" type="CollisionShape2D" parent="eel_spawn_area_1"]
position = Vector2(4474, 3692)
shape = SubResource("CircleShape2D_1ch1h")

[node name="spawn_delay_timer" type="Timer" parent="eel_spawn_area_1"]
autostart = true

[connection signal="body_entered" from="fish_spawn_area_1" to="fish_spawn_area_1" method="_on_body_entered"]
[connection signal="body_exited" from="fish_spawn_area_1" to="fish_spawn_area_1" method="_on_body_exited"]
[connection signal="body_entered" from="eel_spawn_area_1" to="eel_spawn_area_1" method="_on_body_entered"]
[connection signal="body_exited" from="eel_spawn_area_1" to="eel_spawn_area_1" method="_on_body_exited"]
[connection signal="timeout" from="eel_spawn_area_1/spawn_delay_timer" to="eel_spawn_area_1" method="_on_spawn_delay_timer_timeout"]
